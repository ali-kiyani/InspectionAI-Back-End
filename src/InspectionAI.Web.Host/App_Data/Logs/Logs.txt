INFO  2021-11-03 22:47:41,854 [13   ] Microsoft.AspNetCore.Hosting.Diagnostics - Request starting HTTP/1.1 OPTIONS http://localhost:44311/api/services/app/DetailedDashboard/GetRevenueLoss?duration=Weekly&productId=2&stageId=2 - -
INFO  2021-11-03 22:47:41,854 [9    ] Microsoft.AspNetCore.Hosting.Diagnostics - Request finished HTTP/1.1 GET http://localhost:44311/api/services/app/OverviewDashboard/GetDefectiveProducts?duration=Weekly - - - 200 142 application/json;+charset=utf-8 22.4255ms
INFO  2021-11-03 22:47:41,854 [15   ] Microsoft.AspNetCore.Hosting.Diagnostics - Request starting HTTP/1.1 GET http://localhost:44311/api/services/app/DetailedDashboard/GetDefectTrend?duration=Weekly&productId=2&stageId=2 - -
INFO  2021-11-03 22:47:41,854 [18   ] c.Infrastructure.ControllerActionInvoker - Route matched with {area = "app", action = "GetAssemblyDefects", controller = "DetailedDashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[InspectionAI.DetailedDashboard.Dto.DetailedAssemblyDefects] GetAssemblyDefectsAsync(System.String, Int32, Int32) on controller InspectionAI.DetailedDashboard.DetailedDashboardAppService (InspectionAI.Application).
INFO  2021-11-03 22:47:41,855 [26   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__stageId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[AssemblyLineId], [a].[DefectsCount], [a].[DetectionTime], [a].[ImageUrl], [a].[ProductId], [a].[StageId]
FROM [AssemblyDetection] AS [a]
WHERE (([a].[ProductId] = @__productId_0) AND ([a].[StageId] = @__stageId_1)) AND (CONVERT(date, [a].[DetectionTime]) >= DATEADD(day, CAST(-6.0E0 AS int), CONVERT(date, GETDATE())))
INFO  2021-11-03 22:47:41,855 [24   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[Color], [d].[Name]
FROM [Defects] AS [d]
INFO  2021-11-03 22:47:41,905 [13   ] pNetCore.Cors.Infrastructure.CorsService - CORS policy execution successful.
INFO  2021-11-03 22:47:41,905 [15   ] pNetCore.Cors.Infrastructure.CorsService - CORS policy execution successful.
INFO  2021-11-03 22:47:41,906 [13   ] Microsoft.AspNetCore.Hosting.Diagnostics - Request finished HTTP/1.1 OPTIONS http://localhost:44311/api/services/app/DetailedDashboard/GetRevenueLoss?duration=Weekly&productId=2&stageId=2 - - - 204 - - 52.3260ms
INFO  2021-11-03 22:47:41,906 [15   ] uthentication.JwtBearer.JwtBearerHandler - Successfully validated the token.
INFO  2021-11-03 22:47:41,907 [15   ] ft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetDefectTrendAsync (InspectionAI.Application)'
INFO  2021-11-03 22:47:41,909 [24   ] Microsoft.AspNetCore.Hosting.Diagnostics - Request starting HTTP/1.1 GET http://localhost:44311/api/services/app/DetailedDashboard/GetRevenueLoss?duration=Weekly&productId=2&stageId=2 - -
INFO  2021-11-03 22:47:41,909 [24   ] pNetCore.Cors.Infrastructure.CorsService - CORS policy execution successful.
INFO  2021-11-03 22:47:41,909 [24   ] uthentication.JwtBearer.JwtBearerHandler - Successfully validated the token.
INFO  2021-11-03 22:47:41,910 [24   ] ft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetRevenueLossAsync (InspectionAI.Application)'
INFO  2021-11-03 22:47:41,910 [18   ] osoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 5.0.10 initialized 'InspectionAIDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
INFO  2021-11-03 22:47:41,911 [26   ] osoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 5.0.10 initialized 'InspectionAIDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
INFO  2021-11-03 22:47:41,911 [18   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__stageId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[AssemblyDetectionId], [a].[Confidence], [a].[DefectId], [a].[DetectionTime], [a].[StageId]
FROM [AssemblyDefects] AS [a]
WHERE ([a].[StageId] = @__stageId_0) AND ([a].[DetectionTime] >= DATEADD(day, CAST(-7.0E0 AS int), CONVERT(date, GETDATE())))
INFO  2021-11-03 22:47:41,912 [15   ] c.Infrastructure.ControllerActionInvoker - Route matched with {area = "app", action = "GetDefectTrend", controller = "DetailedDashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[InspectionAI.DetailedDashboard.Dto.DetailedDefectTrendDto] GetDefectTrendAsync(System.String, Int32, Int32) on controller InspectionAI.DetailedDashboard.DetailedDashboardAppService (InspectionAI.Application).
INFO  2021-11-03 22:47:41,913 [9    ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 512), @p1='?' (Size = 64), @p2='?' (Size = 128), @p3='?' (Size = 2000), @p4='?' (Size = 2000), @p5='?' (Size = 1024), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Int64), @p10='?' (Size = 256), @p11='?' (Size = 1024), @p12='?' (Size = 4000), @p13='?' (Size = 256), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AbpAuditLogs] ([BrowserInfo], [ClientIpAddress], [ClientName], [CustomData], [Exception], [ExceptionMessage], [ExecutionDuration], [ExecutionTime], [ImpersonatorTenantId], [ImpersonatorUserId], [MethodName], [Parameters], [ReturnValue], [ServiceName], [TenantId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [Id]
FROM [AbpAuditLogs]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
INFO  2021-11-03 22:47:41,914 [9    ] .Mvc.Infrastructure.ObjectResultExecutor - Executing ObjectResult, writing value of type 'Abp.Web.Models.AjaxResponse'.
INFO  2021-11-03 22:47:41,914 [11   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__stageId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ProductId], [a].[StageId]
FROM [AssemblyLine] AS [a]
WHERE ([a].[ProductId] = @__productId_0) AND ([a].[StageId] = @__stageId_1)
INFO  2021-11-03 22:47:41,915 [9    ] c.Infrastructure.ControllerActionInvoker - Executed action InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetGeneralInsightsAsync (InspectionAI.Application) in 69.9791ms
INFO  2021-11-03 22:47:41,915 [9    ] ft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetGeneralInsightsAsync (InspectionAI.Application)'
INFO  2021-11-03 22:47:41,915 [9    ] Microsoft.AspNetCore.Hosting.Diagnostics - Request finished HTTP/1.1 GET http://localhost:44311/api/services/app/DetailedDashboard/GetGeneralInsights?duration=Weekly&productId=2&stageId=2 - - - 200 310 application/json;+charset=utf-8 77.7576ms
INFO  2021-11-03 22:47:41,916 [15   ] osoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 5.0.10 initialized 'InspectionAIDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
INFO  2021-11-03 22:47:41,916 [18   ] osoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 5.0.10 initialized 'InspectionAIDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
INFO  2021-11-03 22:47:41,917 [24   ] c.Infrastructure.ControllerActionInvoker - Route matched with {area = "app", action = "GetRevenueLoss", controller = "DetailedDashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[InspectionAI.DetailedDashboard.Dto.DetailedRevenueLossDto] GetRevenueLossAsync(System.String, Int32, Int32) on controller InspectionAI.DetailedDashboard.DetailedDashboardAppService (InspectionAI.Application).
INFO  2021-11-03 22:47:41,918 [11   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 512), @p1='?' (Size = 64), @p2='?' (Size = 128), @p3='?' (Size = 2000), @p4='?' (Size = 2000), @p5='?' (Size = 1024), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Int64), @p10='?' (Size = 256), @p11='?' (Size = 1024), @p12='?' (Size = 4000), @p13='?' (Size = 256), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AbpAuditLogs] ([BrowserInfo], [ClientIpAddress], [ClientName], [CustomData], [Exception], [ExceptionMessage], [ExecutionDuration], [ExecutionTime], [ImpersonatorTenantId], [ImpersonatorUserId], [MethodName], [Parameters], [ReturnValue], [ServiceName], [TenantId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [Id]
FROM [AbpAuditLogs]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
INFO  2021-11-03 22:47:41,919 [11   ] .Mvc.Infrastructure.ObjectResultExecutor - Executing ObjectResult, writing value of type 'Abp.Web.Models.AjaxResponse'.
INFO  2021-11-03 22:47:41,920 [11   ] c.Infrastructure.ControllerActionInvoker - Executed action InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetDefectiveRatio (InspectionAI.Application) in 70.4683ms
INFO  2021-11-03 22:47:41,920 [11   ] ft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetDefectiveRatio (InspectionAI.Application)'
INFO  2021-11-03 22:47:41,920 [15   ] Microsoft.AspNetCore.Hosting.Diagnostics - Request finished HTTP/1.1 GET http://localhost:44311/api/services/app/DetailedDashboard/GetDefectiveRatio?duration=Weekly&productId=2&stageId=2 - - - 200 149 application/json;+charset=utf-8 78.2332ms
INFO  2021-11-03 22:47:41,920 [18   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__stageId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[AssemblyLineId], [a].[DefectsCount], [a].[DetectionTime], [a].[ImageUrl], [a].[ProductId], [a].[StageId]
FROM [AssemblyDetection] AS [a]
WHERE ((([a].[ProductId] = @__productId_0) AND ([a].[StageId] = @__stageId_1)) AND ([a].[DefectsCount] > 0)) AND (CONVERT(date, [a].[DetectionTime]) >= CONVERT(date, DATEADD(day, CAST(-6.0E0 AS int), CONVERT(date, GETDATE()))))
INFO  2021-11-03 22:47:41,920 [24   ] osoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 5.0.10 initialized 'InspectionAIDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
INFO  2021-11-03 22:47:41,921 [15   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__stageId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[AssemblyLineId], [a].[DefectsCount], [a].[DetectionTime], [a].[ImageUrl], [a].[ProductId], [a].[StageId]
FROM [AssemblyDetection] AS [a]
WHERE ((([a].[ProductId] = @__productId_0) AND ([a].[StageId] = @__stageId_1)) AND ([a].[DefectsCount] > 0)) AND (CONVERT(date, [a].[DetectionTime]) >= DATEADD(day, CAST(-6.0E0 AS int), CONVERT(date, GETDATE())))
INFO  2021-11-03 22:47:41,921 [24   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__stageId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[AssemblyLineId], [a].[DefectsCount], [a].[DetectionTime], [a].[ImageUrl], [a].[ProductId], [a].[StageId]
FROM [AssemblyDetection] AS [a]
WHERE ((([a].[ProductId] = @__productId_0) AND ([a].[StageId] = @__stageId_1)) AND ([a].[DefectsCount] > 0)) AND (CONVERT(date, [a].[DetectionTime]) >= DATEADD(day, CAST(-6.0E0 AS int), CONVERT(date, GETDATE())))
INFO  2021-11-03 22:47:41,924 [26   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Cost], [s].[Name], [s].[ProductId]
FROM [Stage] AS [s]
WHERE [s].[Id] = @__p_0
INFO  2021-11-03 22:47:41,924 [18   ] osoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 5.0.10 initialized 'InspectionAIDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
INFO  2021-11-03 22:47:41,925 [26   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__stageId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ProductId], [a].[StageId]
FROM [AssemblyLine] AS [a]
WHERE ([a].[ProductId] = @__productId_0) AND ([a].[StageId] = @__stageId_1)
INFO  2021-11-03 22:47:41,926 [11   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 512), @p1='?' (Size = 64), @p2='?' (Size = 128), @p3='?' (Size = 2000), @p4='?' (Size = 2000), @p5='?' (Size = 1024), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Int64), @p10='?' (Size = 256), @p11='?' (Size = 1024), @p12='?' (Size = 4000), @p13='?' (Size = 256), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AbpAuditLogs] ([BrowserInfo], [ClientIpAddress], [ClientName], [CustomData], [Exception], [ExceptionMessage], [ExecutionDuration], [ExecutionTime], [ImpersonatorTenantId], [ImpersonatorUserId], [MethodName], [Parameters], [ReturnValue], [ServiceName], [TenantId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [Id]
FROM [AbpAuditLogs]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
INFO  2021-11-03 22:47:41,926 [15   ] oft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__stageId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[DefectId], [s].[ProductId], [s].[StageId], [d].[Id], [d].[Color], [d].[Name]
FROM [StageDefects] AS [s]
INNER JOIN [Defects] AS [d] ON [s].[DefectId] = [d].[Id]
WHERE ([s].[ProductId] = @__productId_0) AND ([s].[StageId] = @__stageId_1)
INFO  2021-11-03 22:47:41,927 [11   ] .Mvc.Infrastructure.ObjectResultExecutor - Executing ObjectResult, writing value of type 'Abp.Web.Models.AjaxResponse'.
INFO  2021-11-03 22:47:41,928 [11   ] c.Infrastructure.ControllerActionInvoker - Executed action InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetAssemblyDefectsAsync (InspectionAI.Application) in 21.8403ms
INFO  2021-11-03 22:47:41,928 [11   ] ft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'InspectionAI.DetailedDashboard.DetailedDashboardAppService.GetAssemblyDefectsAsync (InspectionAI.Application)'
INFO  2021-11-03 22:47:41,928 [15   ] Microsoft.AspNetCore.Hosting.Diagnostics - Request finished HTTP/1.1 GET http://localhost:44311/api/services/app/DetailedDashboard/GetAssemblyDefects?duration=Weekly&productId=2&stageId=2 - - - 200 192 application/json;+charset=utf-8 81.6825ms
